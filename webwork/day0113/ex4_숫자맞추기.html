<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bitcamp17-502 study</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Caveat:wght@400..700&family=Gaegu&family=Jua&family=Nanum+Pen+Script&family=Playwrite+AU+SA:wght@100..400&family=Single+Day&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      body * {
        font-family: "Jua";
      }

      div.number {
        position: absolute;
        left: 150px;
        top: 110px;
      }
    </style>
  </head>
  <body>
    <div style="margin: 30px; width: 300px">
      <h5 class="alert alert-danger">숫자 알아맞추기 게임</h5>
      <input
        type="text"
        class="su form-control"
        style="width: 100px"
        maxlength="3"
        autofocus
      />

      <div class="number"></div>
    </div>

    <div class="result" style="margin: 10px 30px"></div>

    <script>
      //1~100 사이의 임의의 숫자 맞추기
      let rndNum = parseInt(Math.random() * 100) + 1;
      // console.log(rndNum);

      //숫자 입력 시 이벤트
      document.querySelector(".su").onkeyup = function (e) {
        // isNaN() 함수: 전달 값이 숫자인지 문자인지 판별해 숫자가 아닌 경우 true 반환
        if (isNaN(this.value)) {
          alert("문자 입력 금지!");
          this.value = "";
          return;
        }

        //숫자에 해당하는 이미지 넣기 - length, charAt 이용
        let s = "";
        for (let i = 0; i < this.value.length; i++) {
          //i번쨰 숫자 얻기
          let num = this.value.charAt(i);
          // console.log(num);

          s += `<img src="../number/${num}.gif" width=40 />`;
        }
        document.querySelector(".number").innerHTML = s;

        //실제 랜덤 값 비교 - Enter 입력 시 비교
        let r = "";
        
        if (e.keyCode == 13) {
          //입력 값: 숫자 타입으로 획득
          let num = Number(this.value);
          if (num > rndNum) r += num + " 보다 작다<br>";
          else if (num < rndNum) r += num + " 보다 크다<br>";
          else {
            r += "정답!<br>";
            r += `<img src="../photo/K-054.png" width=120><br>
            <h6>문화상품권 획득!</h6>`;
          }
          document.querySelector(".result").innerHTML += r;
        }
      };
    </script>
  </body>
</html>
