<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bitcamp17-502 study</title>
<link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400..700&family=Gaegu&family=Jua&family=Nanum+Pen+Script&family=Playwrite+AU+SA:wght@100..400&family=Single+Day&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
    body *{
        font-family: 'Jua';
    }
</style>

<script>
window.onload = ()=> {
    /* 초기값 적용 */
    init();
    /* 로그인버튼 이벤트 */
    document.getElementById("btnlogin").onclick = function() {
        //체크상태 값 가져오기 - true/false
        let chksave = document.querySelector("#chksave").checked;
        // alert(chksave);

        //아이디&비번 가져오기
        let myId = document.querySelector("#myId").value;
        let myPass = document.querySelector("#myPass").value;

        //ID&pwd 가 맞으면 (적당한 값으로 비교) -> 로컬스토리지 저장
        if(myId == 'angel' && myPass == '1234') {
            alert("로그인!")
            localStorage.chksave = chksave;
            localStorage.Id = myId;
            
            // 적당한 곳으로 이동
            // location.href = "http://www.nate.com";
        }
        else {
            alert("ID or PWD 틀림!");
        }

    };
};

/* 로컬스토리지값 가져와서 적용 */
function init() {
    let chksave = localStorage.chksave;
    let myId = localStorage.Id;

    if(chksave == 'true') {
        document.querySelector("#chksave").checked = true;
        document.querySelector("#myId").value = myId;
    }
    else {
        document.querySelector("#chksave").checked = false;
        document.querySelector("#myId").value = "";
    }
}

</script>

</head>
<body>
<div class="login" style="margin: 30px;">
<table class="table table-bordered" style="width: 300px;">
    <tbody>
        <tr>
            <td colspan="2" align="center">
                <label>
                    <input type="checkbox" id="chksave" />
                    아이디 저장
                </label>
            </td>
        </tr>
        <tr>
            <th style="width: 100px;" class="table-info">아이디</th>
            <td>
                <input type="text" id="myId" class="form-control"
                placeholder="Id" autofocus />
            </td>
        </tr>
        <tr>
            <th style="width: 100px;" class="table-info">비밀번호</th>
            <td>
                <input type="password" id="myPass" class="form-control"
                placeholder="password" />
            </td>
        </tr>
        <tr>
            <td colspan="2" class="table-danger" align="center">
                <button type="button" id="btnlogin" class="btn btn-default"
                style="width: 150px;">회원로그인</button>
            </td>
        </tr>
    </tbody>
</table></div>
</body>
</html>